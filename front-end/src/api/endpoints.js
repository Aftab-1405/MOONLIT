/**
 * API Endpoints - Single Source of Truth
 * 
 * All API endpoint paths are defined here. This enables:
 * - Easy endpoint changes (modify once, update everywhere)
 * - Clear visibility of all API contracts
 * - Simple mocking for tests
 * 
 * Naming convention: DOMAIN_ACTION
 * 
 * @module api/endpoints
 */

// =============================================================================
// AUTH ENDPOINTS (no /api prefix - served by auth_bp)
// =============================================================================

export const AUTH = {
  FIREBASE_CONFIG: '/firebase-config',
  SET_SESSION: '/set_session',
  CHECK_SESSION: '/check_session',
  LOGOUT: '/logout',
};

// =============================================================================
// CONVERSATION ENDPOINTS
// =============================================================================

export const CONVERSATIONS = {
  LIST: '/api/v1/get_conversations',
  GET: (id) => `/api/v1/get_conversation/${id}`,
  CREATE: '/api/v1/new_conversation',
  DELETE: (id) => `/api/v1/delete_conversation/${id}`,
  SEND_MESSAGE: '/api/v1/pass_user_prompt_to_llm',
};

// =============================================================================
// DATABASE ENDPOINTS
// =============================================================================

export const DATABASE = {
  STATUS: '/api/v1/db_status',
  CONNECT: '/api/v1/connect_db',
  DISCONNECT: '/api/v1/disconnect_db',
  LIST_DATABASES: '/api/v1/get_databases',
  LIST_TABLES: '/api/v1/get_tables',
  SWITCH_DATABASE: '/api/v1/switch_remote_database',
  SELECT_DATABASE: '/api/v1/select_database',
  GET_SCHEMAS: '/api/v1/get_schemas',
  SELECT_SCHEMA: '/api/v1/select_schema',
};

// =============================================================================
// QUERY ENDPOINTS
// =============================================================================

export const QUERY = {
  RUN: '/api/v1/run_sql_query',
};

// =============================================================================
// USER ENDPOINTS
// =============================================================================

export const USER = {
  CONTEXT: '/api/v1/user/context',
  CONTEXT_REFRESH: '/api/v1/user/context/refresh',
  CONTEXT_DELETE_SCHEMA: (name) => `/api/v1/user/context/schema/${encodeURIComponent(name)}`,
  CONTEXT_DELETE_ALL_SCHEMAS: '/api/v1/user/context/schemas',
  CONTEXT_DELETE_QUERIES: '/api/v1/user/context/queries',
  SETTINGS: '/api/v1/user/settings',
};

// =============================================================================
// LEGACY EXPORT (for backwards compatibility during migration)
// =============================================================================

export default {
  AUTH,
  CONVERSATIONS,
  DATABASE,
  QUERY,
  USER,
};
